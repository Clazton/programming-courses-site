<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Python for Beginners</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="dashboard">
    <h1>Python for Beginners</h1>
    <div class="lesson">
      <h2>Lesson: Variables</h2>
      <p>Python uses dynamic typing.</p>
      <pre><code>x = 5
y = "hello"
z = True</code></pre>
    </div>

    <div id="quiz-container"></div>
    <button onclick="submitQuiz()">Submit Quiz</button>
    <br /><br />
    <a href="dashboard.html">‚Üê Back to Dashboard</a>
  </div>

  <script src="quizzes.js"></script>
  <script src="quizEngine.js"></script>
  <script>
    initQuiz("course1");

    function submitQuiz() {
      const score = window.getQuizScore();
      const total = window.getQuizTotal();
      const username = localStorage.getItem("loggedInUser");

      fetch("/api/save-result", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          username,
          course: "Python for Beginners",
          score,
          total,
        }),
      })
        .then((res) => res.json())
        .then((data) => {
          alert(`Quiz submitted! Your score: ${score}/${total}`);
        })
        .catch(() => alert("Failed to save your result."));
    }
  </script>
</body>
</html>
